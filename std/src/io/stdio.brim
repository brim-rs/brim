use { File, Handle } from "../fs/file.brim";
use { GetStdHandle } from "../os/windows/kernel32.brim";

pub fn getStdErrHandle() Handle {
    if @os() == "windows" {
        return GetStdHandle(@cast(-12, u32));
    }

    return 2;
}

pub fn getStdErr() File {
    return File { .handle = Handle { .inner = getStdErrHandle() } };
}
